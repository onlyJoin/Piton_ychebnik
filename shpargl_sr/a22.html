<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>Тег CODE</title>
</head>
<body>
<pre><code>import argparse
import json

import requests

parser = argparse.ArgumentParser()
parser.add_argument("port")
parser.add_argument("host")
parser.add_argument("args", nargs='*')
parser.add_argument("--cut", dest='cut', default=4, type=int)
parser.add_argument("--rest", dest='rest', action='store_true')
args = parser.parse_args()

cut = args.cut
rest = args.rest

response = requests.get(f'{args.port}:{args.host}').json()

a = []
for i in response:
    if i in args.args:
        for j in range(len(response[i])):
            if response[i][j] % cut == 0:
                response[i][j] = response[i][j] // 10
            elif rest:
                response[i][j] = response[i][j] + rest % 5 + rest % 7
    sr = sum(response[i]) / len(response[i])
    b = list([j for j in response[i] if j > sr])
    a.append({
        'job': i,
        'diff': max(response[i]) - min(response[i]),
        'number': len(b)
    })

a = sorted(a, key=lambda x: x['job'])

with open('good_day.json', mode='w') as js_file:
    json.dump(a, js_file, indent=2, ensure_ascii=True)
</code></pre>

</body>
</html>